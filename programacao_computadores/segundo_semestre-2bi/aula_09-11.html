<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>API que pega filme</title>
        <script>
            function chamaAPI(){
                let req = new XMLHttpRequest()
                //recuperar o do usuario
                let titulo = document.getElementById('titulo').value
                let url = `http://www.omdbapi.com/?t=${titulo}&apikey=38b76ff2`
                //abrir requisição
                req.open('Get', url, true)
                //vamos enviar a solicitação
                req.send()
                //processar em resposta
                req.onload = function(){
                    //transformar o resultado em formato JSON 
                    let result = JSON.parse(req.responseText)
                    //inserir no forms 
                    document.getElementById('Title').innerHTML = result.Title
                    document.getElementById('Year').innerHTML = result.Year
                    document.getElementById('Rated').innerHTML = result.Rated
                    document.getElementById('imagem').src = result.Poster

                }

            }
        </script>
    </head>
    <body>
        <!--container classico bootstrap-->
        <div class="container">
            <form>
                <div class="form-group">
                    <label> Título do filme </label>
                    <!--form control é classe de bootstrap-->
                    <input type="text" class="form-control" id="titulo"/>
                </div>      
                <div class="form-group">
                    <button type="button" onclick="chamaAPI()" class="btn btn-primary"> Classe API</button>
                </div>
                <div class="form-group">
                    Titulo: <h2 id="Title"> </h2>
                    Ano: <h3 id="Year"> </h3>
                    Classificação: <h3 id="Rated"> </h3>
                    <h3>
                        <img id="imagem"  />
                    </h3>
                </div>
                <!--form group é classe de bootstrap-->
            </form> 
        </div>
 
    </body>
</html>
<!--
    Prova Ecmascript, 
-->